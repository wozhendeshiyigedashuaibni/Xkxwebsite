# ğŸ”Œ è¿æ¥çœŸå®åç«¯ - å¿«é€ŸæŒ‡å—

å½“å‰ç³»ç»Ÿä½¿ç”¨ **Mock æ•°æ®æ¨¡å¼**ã€‚æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿æ¥çœŸå®åç«¯ã€‚

---

## âš¡ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥å®Œæˆï¼‰

### æ–¹æ³• 1ï¸âƒ£ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰

#### Windows ç”¨æˆ·ï¼š

```bash
# 1. è¿è¡Œé…ç½®è„šæœ¬
setup-backend.bat

# 2. é‡å¯å‰ç«¯ï¼ˆå½“å‰ç»ˆç«¯ï¼‰
npm run dev

# 3. å¯åŠ¨åç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
start-backend.bat
```

#### Mac/Linux ç”¨æˆ·ï¼š

```bash
# 1. èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™
chmod +x setup-backend.sh start-backend.sh

# 2. è¿è¡Œé…ç½®è„šæœ¬
./setup-backend.sh

# 3. é‡å¯å‰ç«¯ï¼ˆå½“å‰ç»ˆç«¯ï¼‰
npm run dev

# 4. å¯åŠ¨åç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
./start-backend.sh
```

---

### æ–¹æ³• 2ï¸âƒ£ï¼šæ‰‹åŠ¨é…ç½®

#### ç¬¬ 1 æ­¥ï¼šé…ç½®å·²å®Œæˆ âœ…

`.env.local` æ–‡ä»¶å·²åˆ›å»ºï¼Œå†…å®¹ï¼š

```bash
VITE_USE_MOCK=false
VITE_API_URL=http://localhost:3001/api
```

#### ç¬¬ 2 æ­¥ï¼šé‡å¯å‰ç«¯

**åœæ­¢å½“å‰å‰ç«¯æœåŠ¡å™¨**ï¼ˆæŒ‰ `Ctrl+C`ï¼‰

**é‡æ–°å¯åŠ¨**ï¼š

```bash
npm run dev
```

#### ç¬¬ 3 æ­¥ï¼šå¯åŠ¨åç«¯

**æ‰“å¼€æ–°ç»ˆç«¯**ï¼Œè¿è¡Œï¼š

```bash
npm run server
```

åº”è¯¥çœ‹åˆ°ï¼š

```
âœ… Database connected successfully
ğŸš€ Server running on http://localhost:3001
ğŸ“Š Environment: development
ğŸ”— Frontend URL: http://localhost:5173
```

#### ç¬¬ 4 æ­¥ï¼šåˆ·æ–°æµè§ˆå™¨

è®¿é—® http://localhost:5173

**ç¡¬åˆ·æ–°**ï¼ˆæ¸…é™¤ç¼“å­˜ï¼‰ï¼š
- Windows: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

---

## âœ… éªŒè¯æˆåŠŸ

### 1. é»„è‰²æ¨ªå¹…æ¶ˆå¤± âœ…

é¡¶éƒ¨çš„ "Development Mode: Using mock data" æ¨ªå¹…åº”è¯¥**æ¶ˆå¤±**ã€‚

### 2. æ§åˆ¶å°æ—  Mock æ—¥å¿— âœ…

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼Œ**ä¸åº”è¯¥çœ‹åˆ°**ï¼š

```
Using mock data (VITE_USE_MOCK=true)
```

### 3. API æ­£å¸¸å“åº” âœ…

è®¿é—®ï¼šhttp://localhost:3001/api/health

åº”è¯¥è¿”å›ï¼š

```json
{
  "status": "ok",
  "database": "connected",
  "timestamp": "..."
}
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### âŒ æ¨ªå¹…ä»ç„¶æ˜¾ç¤º

**åŸå› **ï¼šç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**è§£å†³**ï¼š

1. ç¡®è®¤ `.env.local` æ–‡ä»¶åœ¨**é¡¹ç›®æ ¹ç›®å½•**
2. ç¡®è®¤å†…å®¹ä¸º `VITE_USE_MOCK=false`
3. **å®Œå…¨åœæ­¢å‰ç«¯**ï¼ˆCtrl+Cï¼‰
4. **é‡æ–°å¯åŠ¨**ï¼š`npm run dev`
5. **ç¡¬åˆ·æ–°æµè§ˆå™¨**ï¼šCtrl+Shift+R

### âŒ åç«¯æ— æ³•å¯åŠ¨

**é”™è¯¯**ï¼š`Database connection failed`

**è§£å†³**ï¼š

1. æ£€æŸ¥ `.env` æ–‡ä»¶ï¼ˆæ ¹ç›®å½•ï¼‰
2. ç¡®è®¤ `DATABASE_URL` é…ç½®æ­£ç¡®
3. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š
   ```bash
   npm run db:migrate
   ```

### âŒ CORS é”™è¯¯

**é”™è¯¯**ï¼š`blocked by CORS policy`

**è§£å†³**ï¼š

1. ç¡®è®¤åç«¯å·²å¯åŠ¨åœ¨ 3001 ç«¯å£
2. æ£€æŸ¥ `server/index.js` CORS é…ç½®

### âŒ 404 é”™è¯¯

**é”™è¯¯**ï¼š`GET http://localhost:3001/api/products 404`

**è§£å†³**ï¼š

1. ç¡®è®¤åç«¯æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
2. è®¿é—®å¥åº·æ£€æŸ¥ï¼šhttp://localhost:3001/api/health
3. æ£€æŸ¥åç«¯ç»ˆç«¯æ—¥å¿—

---

## ğŸ“Š æ•°æ®åº“å‡†å¤‡

å¦‚æœæ•°æ®åº“æ˜¯ç©ºçš„ï¼š

```bash
# 1. è¿è¡Œè¿ç§»
npm run db:migrate

# 2. å¡«å……ç¤ºä¾‹æ•°æ®
npm run db:seed

# 3. ï¼ˆå¯é€‰ï¼‰æŸ¥çœ‹æ•°æ®åº“
npm run db:studio
```

---

## ğŸ”„ åˆ‡æ¢å› Mock æ¨¡å¼

å¦‚æœéœ€è¦åˆ‡æ¢å› Mock æ•°æ®ï¼š

1. ç¼–è¾‘ `.env.local`ï¼š
   ```bash
   VITE_USE_MOCK=true
   ```

2. é‡å¯å‰ç«¯ï¼š
   ```bash
   npm run dev
   ```

3. é»„è‰²æ¨ªå¹…é‡æ–°å‡ºç° = Mock æ¨¡å¼å·²å¯ç”¨

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `.env.local` | æœ¬åœ°ç¯å¢ƒå˜é‡ï¼ˆå·²åˆ›å»ºï¼Œä¸æäº¤ Gitï¼‰ |
| `.env.example` | ç¯å¢ƒå˜é‡æ¨¡æ¿ |
| `setup-backend.bat/.sh` | è‡ªåŠ¨é…ç½®è„šæœ¬ |
| `start-backend.bat/.sh` | å¯åŠ¨åç«¯è„šæœ¬ |
| `BACKEND_CONNECTION_GUIDE.md` | è¯¦ç»†é…ç½®æŒ‡å— |

---

## ğŸ¯ æ€»ç»“

ç°åœ¨å·²ç»å®Œæˆï¼š

âœ… åˆ›å»º `.env.local` æ–‡ä»¶  
âœ… è®¾ç½® `VITE_USE_MOCK=false`  
âœ… é…ç½® API åœ°å€

**ä¸‹ä¸€æ­¥**ï¼š

1. **é‡å¯å‰ç«¯**ï¼ˆCtrl+C â†’ `npm run dev`ï¼‰
2. **å¯åŠ¨åç«¯**ï¼ˆæ–°ç»ˆç«¯ â†’ `npm run server`ï¼‰
3. **åˆ·æ–°æµè§ˆå™¨**ï¼ˆCtrl+Shift+Rï¼‰
4. **éªŒè¯æ¨ªå¹…æ¶ˆå¤±**

---

## ğŸ†˜ éœ€è¦æ›´å¤šå¸®åŠ©ï¼Ÿ

æŸ¥çœ‹è¯¦ç»†æŒ‡å—ï¼š

```bash
# Windows
type BACKEND_CONNECTION_GUIDE.md

# Mac/Linux
cat BACKEND_CONNECTION_GUIDE.md
```

æˆ–ç›´æ¥æ‰“å¼€æ–‡ä»¶ï¼š`BACKEND_CONNECTION_GUIDE.md`

---

**ğŸ‰ å®Œæˆåï¼Œä½ å°±å¯ä»¥ä½¿ç”¨çœŸå®åç«¯ API äº†ï¼**
